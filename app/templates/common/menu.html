<div class="main-menu-wrapper" ng-controller="mainMenuController">
    <div class="menu-trigger-btn">
        <button class="header-menu-trigger" ng-click="toggleMenu()">
            <i class="icon-menu"></i>
        </button>
    </div>
    <a ui-sref="main.base" class="main-menu-logo" ng-if="!currentUser.is_ghost">
        <img src="/static/images/my_wish_logo.svg"/>
    </a>
    <a href="/" class="main-menu-logo" ng-if="currentUser.is_ghost">
        <img src="/static/images/my_wish_logo.svg"/>
    </a>
    <nav class="main-menu-navigator">
        <ul class="main-menu-global-menu">
            <li>
                <span class="as_menu_link" ng-if="currentUser.is_ghost">
                    <i class="icon-warning"></i>
                    <span>Unknown user</span>
                </span>
                <a ui-sref="main.profile" class="as_menu_link"
                   ng-class="{'active': $state.current.name == 'main.profile'}"
                   ng-if="!currentUser.is_ghost">
                    <i class="icon-account"></i>
                    <span>{{currentUser.username || 'Unknown'}}</span>
                </a>
            </li>

            <li ng-repeat="menuItem in menuList" ng-if="!menuItem.noshow && (!currentUser[menuItem.hideForUser])">
                <a ui-sref="{{menuItem.route}}" ng-if="!menuItem.static" ng-class="{'active': ($state.current.name == menuItem.route) || ($state.current.data.top == menuItem.route) || (menuItem.parent && ($state.current.parent == menuItem.parent)), 'no-active': menuItem.noactive}">
                    <i ng-class="menuItem.icon"></i>
                    <span ng-if="menuItem.title">{{menuItem.title}}</span>
                    <span ng-if="menuItem.titleUserPar">{{currentUser[menuItem.titleUserPar]}}</span>
                </a>
                <a ng-attr-href="{{(menuItem.type === 'mail' ? 'mailto:' : '') + menuItem.url }}" ng-if="menuItem.static">
                    <i ng-class="menuItem.icon"></i>
                    <span ng-if="menuItem.title">{{menuItem.title}}</span>
                </a>
            </li>

            <li>
                <a href="#" class="as_menu_link" ng-if="!currentUser.is_ghost" ng-pop-up="{
                        class: 'deleting-contract',
                        template: '/templates/popups/confirmations/logout-confirm.html',
                        newPopupContent: true,
                    }">
                    <i class="icon-exit"></i>
                    <span>Log out</span>
                </a>
            </li>

        </ul>
    </nav>
    <span class="release-version">version 1.6.0</span>
</div>
