<div class="shadow-block">
    <div class="shadow-block__content shadow-block__content_min-tb-padding shadow-block__content_no-lr-padding">
        <div class="contract-info__network"
             ng-class="'contract-info__network_' + (network.id || 1)">
            <span>{{network.name}}</span>
        </div>
        <div class="shadow-block__content__blue-title">
            <i class="shadow-block__content__blue-title__icon icon-deferred"></i>
            <div class="shadow-block__content__blue-title__name">
                <span class="big-size ng-binding">Deferred payment</span>
            </div>
        </div>
    </div>
    <form class="shadow-block__content shadow-block__content_no-tb-padding no-border" name="contractNameForm">
        <div class="grid-row">
            <div class="grid-cell grid-cell-3-5 grid-cell-ps-4-5 grid-cell-vs-1">
                <div class="form-control">
                    <label for="contract-name" class="form-control-label">Enter contract name:</label>
                    <input id="contract-name" type="text"
                           ng-model="request.name"
                           required
                           class="form-control-input"/>
                </div>
            </div>
        </div><br/><br/>
    </form>
</div>


<div class="shadow-block">
    <div class="shadow-block__content">
        <div class="grid-row">
            <div class="grid-cell grid-cell-2-3 grid-cell-ps-4-5 grid-cell-ls-1">
                <div class="form-control">
                    <div class="form-control-label float-right"
                         ng-bind="checkedBalance ? 'Balance: ' + (checkedBalance | number).replace(numberReplacer, ' ') + ' ETH' : balanceInProgress ? 'Please wait...' : ' '"></div>
                    <label for="wallet-key" class="form-control-label">Management address</label>
                    <input id="wallet-key" type="text"
                           ng-model="request.contract_details.user_address"
                           placeholder="Enter your ETH wallet address"
                           required
                           ng-pattern="/^0x[0-9a-f]{40}$/i"
                           ng-change="getBalance()"
                           class="form-control-input"/>
                    <span class="field-error form-field_error-check-sum"
                          ng-if="request.contract_details.user_address ? !web3Utils.checkAddressChecksum(request.contract_details.user_address) : false"
                          style="display: block">Address is not checksummed</span>
                </div>
            </div>
            <div class="grid-cell grid-cell-1-3 grid-cell-ps-4-5 grid-cell-ls-1 form-control-description">
                <div class="form-control-label hide-ps">&nbsp;</div>
                <span class="form-control-description__text"> Owner of this address will be able to manage the contract (it's the only one)</span>
            </div>
        </div>
    </div>
</div>



<form class="shadow-block" ng-class="{'no-active': !checkedBalance}" name="hairsForm">
    <div class="shadow-block__content">
        <div class="grid-row">
            <div class="grid-cell grid-cell-2-3 grid-cell-ps-4-5 grid-cell-ls-1">
                <div class="form-control">
                    <label for="out-wallet-key" class="form-control-label">Send to wallet</label>
                    <input id="out-wallet-key" type="text"
                           placeholder="Enter the address of the recipient's wallet"
                           ng-pattern="/^0x[0-9a-f]{40}$/i"
                           ng-model="request.contract_details.recepient_address"
                           required
                           class="form-control-input"/>
                    <span class="field-error form-field_error-check-sum"
                          ng-if="request.contract_details.recepient_address ? !web3Utils.checkAddressChecksum(request.contract_details.recepient_address) : false"
                          style="display: block">Address is not checksummed</span>
                </div>
            </div>
            <div class="grid-cell grid-cell-1-3 grid-cell-ps-4-5 grid-cell-ls-1 form-control-description">
                <div class="form-control-label hide-ps">&nbsp;</div>
                <span class="form-control-description__text">
                    Enter the recipient's ETH address. This address will get transfer.
                </span>
            </div>
            <div class="clearfix"></div><br/>
            <div class="grid-cell grid-cell-1-2 grid-cell-vs-1">
                <div class="form-control">
                    <label class="form-control-label">E-mail for notification</label>
                    <input ng-model="request.contract_details.recepient_email"
                           placeholder="Enter the e-mail"
                           type="email" class="form-control-input"/>
                </div>
            </div>
            <div class="grid-cell grid-cell-1-2 grid-cell-ps-4-5 grid-cell-ls-1 form-control-description">
                <div class="form-control-label hide-ps">&nbsp;</div>
                <span class="form-control-description__text">
                    Enter e-mail address to which we send notification about transfer.
                </span>
            </div>
        </div>
    </div>
</form>

<br/><br/>
<h2 class="content-section-title">
    <i class="icon-conditions"></i>
    <span>Conditions</span>
</h2>
<form class="shadow-block" name="conditionsForm" ng-class="{'no-active': !checkedBalance || !hairsForm.$valid}">

    <div class="shadow-block__content">
        <div class="grid-row">
            <div class="grid-cell grid-cell-1-2 grid-cell-vs-1 grid-cell-vs-padding-top">
                <div class="form-control form-control-date">
                    <label class="form-control-label">Date of transfer</label>
                    <input type="datetime" required
                           ng-model="request.contract_details.date"
                           date-change="onChangeDate"
                           auto-close="true"
                           min-date="minDate"
                           readonly
                           date-time
                           timezone="UTC"
                           min-view="date"
                           view="year"
                           format="YYYY-MM-DD"
                           position="fixed"
                           class="form-control-input"/>
                </div>
            </div>

            <div class="grid-cell grid-cell-1-2 grid-cell-ps-4-5 grid-cell-ls-1 form-control-description">
                <div class="form-control-label hide-ps">&nbsp;</div>
                <span class="form-control-description__text">
                    Enter the contract's conditions - specify when it will make the transfer.
                </span>
            </div>
        </div>
    </div>
</form>

<br/><br/><br/>

<div class="grid-row">
    <div class="grid-cell grid-cell-vs-1-2">
        <button class="uppercase btn btn-submit mobile-width-100"
                type="button" ng-disabled="!checkedBalance || !hairsForm.$valid || !conditionsForm.$valid" ng-click="createContract()">
            <span ng-if="!editContractMode">&nbsp;&nbsp;&nbsp;Create&nbsp;&nbsp;&nbsp;</span>
            <span ng-if="editContractMode">&nbsp;&nbsp;&nbsp;Update&nbsp;&nbsp;&nbsp;</span>
        </button>
    </div>
    <div class="grid-cell grid-cell-vs-1-2">
        <button class="btn btn-red with-icon mobile-width-100" ng-click="resetForms($event)">
            <i class="icon-delete-button"></i>
            <span ng-if="!editContractMode">Clear</span>
            <span ng-if="editContractMode">Reset</span>
        </button>
    </div>
</div>